# ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Claude Code â€” Phase 5.1: Improvisation Hub + Random Topic

## ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚

ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ÑƒÑ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºÑƒ AI VoicePower. Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ñ– Ñ„Ğ°Ğ·Ğ¸:
- âœ… Phase 0.1-0.6 â€” Infrastructure  
- âœ… Phase 1.1-1.4 â€” Onboarding + Diagnostic
- âœ… Phase 2.1-2.5 â€” Warmup
- âœ… Phase 3 â€” Home Screen
- âœ… Phase 4.1-4.4 â€” Courses (Ğ¿Ğ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ)

Ğ—Ğ°Ñ€Ğ°Ğ· **Phase 5.1 â€” Improvisation Hub + Random Topic** â€” Ğ¿ĞµÑ€ÑˆĞ° Ğ¿Ñ–Ğ´Ñ„Ğ°Ğ·Ğ° Phase 5.

**Ğ—Ğ³Ñ–Ğ´Ğ½Ğ¾ Ğ· PHASE_STRUCTURE_GUIDE.md**: ĞŸĞ¾Ñ‡Ğ°Ñ‚Ğ¾Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ Ñ–Ğ¼Ğ¿Ñ€Ğ¾Ğ²Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—.

**Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ:** `SPECIFICATION.md`, ÑĞµĞºÑ†Ñ–Ñ 4.3.7 (Improvisation Screen).

**Ğ¡ĞºĞ»Ğ°Ğ´Ğ½Ñ–ÑÑ‚ÑŒ:** ğŸŸ¡ Ğ¡Ğ•Ğ Ğ•Ğ”ĞĞ¯  
**Ğ§Ğ°Ñ:** â±ï¸ 2-3 Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ¸

---

## ĞšĞ»ÑÑ‡Ğ¾Ğ²Ğ° Ñ–Ğ´ĞµÑ Phase 5

**Improvisation** â€” Ñ†Ğµ Ñ‚Ñ€ĞµĞ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¾Ğ½Ñ‚Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· 5 Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ–Ğ²:

| Ğ ĞµĞ¶Ğ¸Ğ¼ | ĞœĞµÑ…Ğ°Ğ½Ñ–ĞºĞ° | Phase |
|-------|----------|-------|
| ğŸ² Random Topic | Ğ¢ĞµĞ¼Ğ° â†’ Ğ¿Ñ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° 15 ÑĞµĞº â†’ Ğ·Ğ°Ğ¿Ğ¸Ñ 1-3 Ñ…Ğ² â†’ AI-Ğ°Ğ½Ğ°Ğ»Ñ–Ğ· | **5.1** |
| ğŸ“– Storytelling | Ğ•Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸ ÑÑĞ¶ĞµÑ‚Ñƒ â†’ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ â†’ AI-Ğ°Ğ½Ğ°Ğ»Ñ–Ğ· | 5.2 |
| ğŸ† Daily Challenge | Ğ£Ğ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğµ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ñ‰Ğ¾Ğ´Ğ½Ñ â†’ Ğ·Ğ°Ğ¿Ğ¸Ñ â†’ Ñ‚Ñ€ĞµĞºÑ–Ğ½Ğ³ | 5.2 |
| âš”ï¸ Debate | Ğ¢ĞµĞ¼Ğ° + Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ñ â†’ Ñ€Ğ°ÑƒĞ½Ğ´Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² â†’ AI-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸ | 5.3 ğŸ”´ |
| ğŸ’¼ Sales Pitch | Ğ¢Ğ¾Ğ²Ğ°Ñ€ + ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ â†’ pitch â†’ AI Ğ³Ñ€Ğ°Ñ” ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ° Ğ· Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½ÑĞ¼Ğ¸ | 5.3 ğŸ”´ |

**Phase 5.1** Ñ„Ğ¾ĞºÑƒÑÑƒÑ”Ñ‚ÑŒÑÑ Ğ½Ğ°:
1. **Hub Screen** â€” Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ĞµĞºÑ€Ğ°Ğ½ Ğ²Ğ¸Ğ±Ğ¾Ñ€Ñƒ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ
2. **Random Topic** â€” Ğ¿ĞµÑ€ÑˆĞ¸Ğ¹ Ñ‚Ğ° Ğ½Ğ°Ğ¹Ğ¿Ñ€Ğ¾ÑÑ‚Ñ–ÑˆĞ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼

---

## Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° Phase 5.1

### 1. Improvisation Hub Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ­ Ğ†Ğ¼Ğ¿Ñ€Ğ¾Ğ²Ñ–Ğ·Ğ°Ñ†Ñ–Ñ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  Ğ¢Ñ€ĞµĞ½ÑƒĞ¹ ÑĞ¿Ğ¾Ğ½Ñ‚Ğ°Ğ½Ğ½Ğµ Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ         â”‚
â”‚                                    â”‚
â”‚  ğŸ“Š Ğ¡ÑŒĞ¾Ğ³Ğ¾Ğ´Ğ½Ñ–: 1/3 (Free tier)      â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ² Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ğ°            â”‚ â”‚
â”‚  â”‚ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ Ñ‰Ğ¾     â”‚ â”‚
â”‚  â”‚ Ğ·Ğ°Ğ²Ğ³Ğ¾Ğ´Ğ½Ğ¾?                    â”‚ â”‚
â”‚  â”‚                              â”‚ â”‚
â”‚  â”‚ [ĞŸĞ¾Ñ‡Ğ°Ñ‚Ğ¸ â†’]                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“– Ğ Ğ¾Ğ·ĞºĞ°Ğ¶Ğ¸ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ      ğŸ”’   â”‚ â”‚
â”‚  â”‚ (Phase 5.2)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ† Ğ©Ğ¾Ğ´ĞµĞ½Ğ½Ğ¸Ğ¹ Ñ‡ĞµĞ»ĞµĞ½Ğ´Ğ¶     ğŸ”’   â”‚ â”‚
â”‚  â”‚ (Phase 5.2)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âš”ï¸ Ğ”ĞµĞ±Ğ°Ñ‚Ğ¸ Ğ· AI          ğŸ”’   â”‚ â”‚
â”‚  â”‚ (Phase 5.3)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ’¼ ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€         ğŸ”’   â”‚ â”‚
â”‚  â”‚ (Phase 5.3)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Random Topic Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ğ°                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  ğŸ² Ğ¢Ğ²Ğ¾Ñ Ñ‚ĞµĞ¼Ğ°:                     â”‚
â”‚                                    â”‚
â”‚  "Ğ§Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ– Ğ·Ğ¼Ñ–Ğ½ÑÑÑ‚ÑŒ Ğ»ÑĞ´Ğ¸Ğ½Ñƒ"   â”‚
â”‚                                    â”‚
â”‚  ğŸ’¡ ĞŸÑ–Ğ´ĞºĞ°Ğ·ĞºĞ¸:                      â”‚
â”‚  â€¢ Ğ’Ğ»Ğ°ÑĞ½Ğ¸Ğ¹ Ğ´Ğ¾ÑĞ²Ñ–Ğ´                  â”‚
â”‚  â€¢ ĞĞ¾Ğ²Ñ– Ğ¿ĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ¸                â”‚
â”‚  â€¢ ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¸Ğ¹ Ğ¾Ğ±Ğ¼Ñ–Ğ½                â”‚
â”‚                                    â”‚
â”‚  â±ï¸ Ğ§Ğ°Ñ Ğ¿Ñ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸: 00:15          â”‚
â”‚                                    â”‚
â”‚  [ğŸ”„ Ğ†Ğ½ÑˆĞ° Ñ‚ĞµĞ¼Ğ°]  [âœ“ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹]      â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ (Ğ¿Ñ–ÑĞ»Ñ Ğ½Ğ°Ñ‚Ğ¸ÑĞºĞ°Ğ½Ğ½Ñ "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹")

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ“Ğ¾Ğ²Ğ¾Ñ€Ğ¸ 1-3 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ¸                â”‚
â”‚                                    â”‚
â”‚  ğŸ”´ Ğ—Ğ°Ğ¿Ğ¸Ñ... 00:42                 â”‚
â”‚                                    â”‚
â”‚  "Ğ§Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ– Ğ·Ğ¼Ñ–Ğ½ÑÑÑ‚ÑŒ Ğ»ÑĞ´Ğ¸Ğ½Ñƒ"   â”‚
â”‚                                    â”‚
â”‚  [â–  Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚Ğ¸]                     â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ (Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ)

Navigate to Results Screen (Phase 4.4)
  Ğ· placeholder AI-Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·Ñƒ
```

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²

```
ui/screens/improvisation/
â”œâ”€â”€ ImprovisationScreen.kt              # Hub
â”œâ”€â”€ ImprovisationViewModel.kt
â”œâ”€â”€ ImprovisationState.kt
â”œâ”€â”€ ImprovisationEvent.kt
â”œâ”€â”€ RandomTopicScreen.kt                # Random Topic
â”œâ”€â”€ RandomTopicViewModel.kt
â”œâ”€â”€ RandomTopicState.kt
â”œâ”€â”€ RandomTopicEvent.kt
â””â”€â”€ components/
    â”œâ”€â”€ ImprovisationModeCard.kt
    â”œâ”€â”€ TopicDisplayCard.kt
    â”œâ”€â”€ PreparationTimerCard.kt
    â””â”€â”€ RandomTopicRecordingCard.kt

data/content/
â””â”€â”€ ImprovisationTopicsProvider.kt      # 50+ topics
```

---

## ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´

### 1. Domain Model (ÑĞºÑ‰Ğ¾ Ñ‰Ğµ Ğ½Ğµ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾ Ğ² Phase 0.5)

#### domain/model/content/ImprovisationTopic.kt

```kotlin
package com.aivoicepower.domain.model.content

import com.aivoicepower.domain.model.course.Difficulty

data class ImprovisationTopic(
    val id: String,
    val title: String,
    val difficulty: Difficulty,
    val hints: List<String> = emptyList()
)
```

---

### 2. ImprovisationState.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

data class ImprovisationState(
    val completedToday: Int = 0,
    val dailyLimit: Int = 3,
    val isPremium: Boolean = false,
    val isLoading: Boolean = true,
    val error: String? = null
)
```

### 3. ImprovisationEvent.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

sealed class ImprovisationEvent {
    object RandomTopicClicked : ImprovisationEvent()
    object StorytellingClicked : ImprovisationEvent()
    object DailyChallengeClicked : ImprovisationEvent()
    object DebateClicked : ImprovisationEvent()
    object SalesPitchClicked : ImprovisationEvent()
}
```

### 4. ImprovisationViewModel.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.aivoicepower.data.local.datastore.UserPreferencesDataStore
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import javax.inject.Inject

@HiltViewModel
class ImprovisationViewModel @Inject constructor(
    private val userPreferencesDataStore: UserPreferencesDataStore
) : ViewModel() {
    
    private val _state = MutableStateFlow(ImprovisationState())
    val state: StateFlow<ImprovisationState> = _state.asStateFlow()
    
    init {
        loadImprovisationStats()
    }
    
    fun onEvent(event: ImprovisationEvent) {
        when (event) {
            ImprovisationEvent.RandomTopicClicked -> {
                // Navigation handled in Screen
            }
            ImprovisationEvent.StorytellingClicked -> {
                // Phase 5.2
            }
            ImprovisationEvent.DailyChallengeClicked -> {
                // Phase 5.2
            }
            ImprovisationEvent.DebateClicked -> {
                // Phase 5.3
            }
            ImprovisationEvent.SalesPitchClicked -> {
                // Phase 5.3
            }
        }
    }
    
    private fun loadImprovisationStats() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true) }
            
            try {
                userPreferencesDataStore.userPreferencesFlow
                    .collect { prefs ->
                        _state.update {
                            it.copy(
                                completedToday = prefs.freeImprovisationsToday,
                                dailyLimit = 3, // FreeTierLimits.FREE_IMPROVISATIONS_PER_DAY
                                isPremium = prefs.isPremium,
                                isLoading = false,
                                error = null
                            )
                        }
                    }
            } catch (e: Exception) {
                _state.update {
                    it.copy(
                        isLoading = false,
                        error = "ĞĞµ Ğ²Ğ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚Ğ¸ Ğ´Ğ°Ğ½Ñ–"
                    )
                }
            }
        }
    }
    
    fun canStartImprovisation(): Boolean {
        val state = _state.value
        return state.isPremium || state.completedToday < state.dailyLimit
    }
}
```

### 5. ImprovisationScreen.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.rememberScrollState
import androidx.compose.foundation.verticalScroll
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.*
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.aivoicepower.ui.screens.improvisation.components.ImprovisationModeCard

@Composable
fun ImprovisationScreen(
    viewModel: ImprovisationViewModel = hiltViewModel(),
    onNavigateToRandomTopic: () -> Unit,
    onNavigateToStorytelling: () -> Unit,
    onNavigateToDebate: () -> Unit,
    onNavigateToSales: () -> Unit,
    onNavigateToChallenge: () -> Unit,
    onNavigateToPremium: () -> Unit
) {
    val state by viewModel.state.collectAsStateWithLifecycle()
    
    Column(
        modifier = Modifier
            .fillMaxSize()
            .verticalScroll(rememberScrollState())
            .padding(16.dp),
        verticalArrangement = Arrangement.spacedBy(16.dp)
    ) {
        // Header
        Text(
            text = "ğŸ­ Ğ†Ğ¼Ğ¿Ñ€Ğ¾Ğ²Ñ–Ğ·Ğ°Ñ†Ñ–Ñ",
            style = MaterialTheme.typography.headlineMedium
        )
        
        Text(
            text = "Ğ¢Ñ€ĞµĞ½ÑƒĞ¹ ÑĞ¿Ğ¾Ğ½Ñ‚Ğ°Ğ½Ğ½Ğµ Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ",
            style = MaterialTheme.typography.bodyLarge,
            color = MaterialTheme.colorScheme.onSurfaceVariant
        )
        
        // Stats card (for free users)
        if (!state.isPremium) {
            Card(
                colors = CardDefaults.cardColors(
                    containerColor = MaterialTheme.colorScheme.secondaryContainer
                )
            ) {
                Row(
                    modifier = Modifier
                        .fillMaxWidth()
                        .padding(16.dp),
                    horizontalArrangement = Arrangement.SpaceBetween
                ) {
                    Text(
                        text = "ğŸ“Š Ğ¡ÑŒĞ¾Ğ³Ğ¾Ğ´Ğ½Ñ–:",
                        style = MaterialTheme.typography.titleMedium
                    )
                    Text(
                        text = "${state.completedToday}/${state.dailyLimit}",
                        style = MaterialTheme.typography.titleMedium,
                        color = MaterialTheme.colorScheme.primary
                    )
                }
            }
        }
        
        // Mode cards
        ImprovisationModeCard(
            emoji = "ğŸ²",
            title = "Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ğ°",
            description = "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ Ñ‰Ğ¾ Ğ·Ğ°Ğ²Ğ³Ğ¾Ğ´Ğ½Ğ¾?",
            isLocked = false,
            isComingSoon = false,
            onClick = {
                if (viewModel.canStartImprovisation()) {
                    viewModel.onEvent(ImprovisationEvent.RandomTopicClicked)
                    onNavigateToRandomTopic()
                } else {
                    onNavigateToPremium()
                }
            }
        )
        
        ImprovisationModeCard(
            emoji = "ğŸ“–",
            title = "Ğ Ğ¾Ğ·ĞºĞ°Ğ¶Ğ¸ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ",
            description = "Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸ Ğ·Ğ°Ñ…Ğ¾Ğ¿Ğ»ÑÑÑ‡Ñƒ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ",
            isLocked = !state.isPremium,
            isComingSoon = true,
            comingSoonText = "Phase 5.2",
            onClick = {
                // Phase 5.2
            }
        )
        
        ImprovisationModeCard(
            emoji = "ğŸ†",
            title = "Ğ©Ğ¾Ğ´ĞµĞ½Ğ½Ğ¸Ğ¹ Ñ‡ĞµĞ»ĞµĞ½Ğ´Ğ¶",
            description = "Ğ£Ğ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğµ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ğ¶ĞµĞ½ Ğ´ĞµĞ½ÑŒ",
            isLocked = !state.isPremium,
            isComingSoon = true,
            comingSoonText = "Phase 5.2",
            onClick = {
                // Phase 5.2
            }
        )
        
        ImprovisationModeCard(
            emoji = "âš”ï¸",
            title = "Ğ”ĞµĞ±Ğ°Ñ‚Ğ¸ Ğ· AI",
            description = "ĞŸĞµÑ€ĞµĞºĞ¾Ğ½ÑƒĞ¹ ÑˆÑ‚ÑƒÑ‡Ğ½Ğ¸Ğ¹ Ñ–Ğ½Ñ‚ĞµĞ»ĞµĞºÑ‚",
            isLocked = !state.isPremium,
            isComingSoon = true,
            comingSoonText = "Phase 5.3",
            onClick = {
                // Phase 5.3
            }
        )
        
        ImprovisationModeCard(
            emoji = "ğŸ’¼",
            title = "ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€",
            description = "ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚ÑƒĞ¹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ AI-ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ñƒ",
            isLocked = !state.isPremium,
            isComingSoon = true,
            comingSoonText = "Phase 5.3",
            onClick = {
                // Phase 5.3
            }
        )
        
        // Premium prompt (if needed)
        if (!state.isPremium && state.completedToday >= state.dailyLimit) {
            Card(
                colors = CardDefaults.cardColors(
                    containerColor = MaterialTheme.colorScheme.tertiaryContainer
                )
            ) {
                Column(
                    modifier = Modifier.padding(16.dp),
                    verticalArrangement = Arrangement.spacedBy(8.dp)
                ) {
                    Text(
                        text = "â­ Ğ›Ñ–Ğ¼Ñ–Ñ‚ Ğ²Ğ¸Ñ‡ĞµÑ€Ğ¿Ğ°Ğ½Ğ¾",
                        style = MaterialTheme.typography.titleMedium
                    )
                    Text(
                        text = "ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ¹ Premium Ğ´Ğ»Ñ Ğ½ĞµĞ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¾Ñ— Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸",
                        style = MaterialTheme.typography.bodyMedium
                    )
                    Button(
                        onClick = onNavigateToPremium,
                        modifier = Modifier.fillMaxWidth()
                    ) {
                        Text("Ğ”Ñ–Ğ·Ğ½Ğ°Ñ‚Ğ¸ÑÑŒ Ğ±Ñ–Ğ»ÑŒÑˆĞµ")
                    }
                }
            }
        }
    }
}
```

### 6. components/ImprovisationModeCard.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation.components

import androidx.compose.foundation.layout.*
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun ImprovisationModeCard(
    emoji: String,
    title: String,
    description: String,
    isLocked: Boolean,
    isComingSoon: Boolean = false,
    comingSoonText: String? = null,
    onClick: () -> Unit,
    modifier: Modifier = Modifier
) {
    Card(
        onClick = onClick,
        enabled = !isComingSoon,
        modifier = modifier.fillMaxWidth()
    ) {
        Row(
            modifier = Modifier
                .fillMaxWidth()
                .padding(16.dp),
            horizontalArrangement = Arrangement.spacedBy(16.dp),
            verticalAlignment = Alignment.CenterVertically
        ) {
            // Emoji
            Text(
                text = emoji,
                style = MaterialTheme.typography.displaySmall
            )
            
            // Content
            Column(
                modifier = Modifier.weight(1f),
                verticalArrangement = Arrangement.spacedBy(4.dp)
            ) {
                Row(
                    horizontalArrangement = Arrangement.spacedBy(8.dp),
                    verticalAlignment = Alignment.CenterVertically
                ) {
                    Text(
                        text = title,
                        style = MaterialTheme.typography.titleMedium
                    )
                    
                    if (isLocked) {
                        Icon(
                            imageVector = Icons.Default.Lock,
                            contentDescription = "Premium",
                            modifier = Modifier.size(16.dp),
                            tint = MaterialTheme.colorScheme.primary
                        )
                    }
                    
                    if (isComingSoon && comingSoonText != null) {
                        Surface(
                            color = MaterialTheme.colorScheme.secondaryContainer,
                            shape = MaterialTheme.shapes.small
                        ) {
                            Text(
                                text = comingSoonText,
                                style = MaterialTheme.typography.labelSmall,
                                modifier = Modifier.padding(horizontal = 6.dp, vertical = 2.dp)
                            )
                        }
                    }
                }
                
                Text(
                    text = description,
                    style = MaterialTheme.typography.bodyMedium,
                    color = MaterialTheme.colorScheme.onSurfaceVariant
                )
            }
            
            // Arrow
            if (!isComingSoon) {
                Icon(
                    imageVector = Icons.Default.KeyboardArrowRight,
                    contentDescription = null
                )
            }
        }
    }
}
```

---

## Random Topic Screen

### 7. RandomTopicState.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

import com.aivoicepower.domain.model.content.ImprovisationTopic

data class RandomTopicState(
    val currentTopic: ImprovisationTopic? = null,
    val preparationTimeLeft: Int = 15, // seconds
    val isPreparationPhase: Boolean = true,
    val isRecording: Boolean = false,
    val recordingDurationMs: Long = 0,
    val recordingPath: String? = null,
    val recordingId: String? = null,
    val isLoading: Boolean = false,
    val error: String? = null
)
```

### 8. RandomTopicEvent.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

sealed class RandomTopicEvent {
    object GenerateNewTopic : RandomTopicEvent()
    object StartPreparation : RandomTopicEvent()
    object StartRecording : RandomTopicEvent()
    object StopRecording : RandomTopicEvent()
    object CompleteTask : RandomTopicEvent()
}
```

### 9. RandomTopicViewModel.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

import android.content.Context
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.aivoicepower.data.content.ImprovisationTopicsProvider
import com.aivoicepower.data.local.database.dao.RecordingDao
import com.aivoicepower.data.local.database.entity.RecordingEntity
import com.aivoicepower.data.local.datastore.UserPreferencesDataStore
import com.aivoicepower.utils.audio.AudioRecorderUtil
import dagger.hilt.android.lifecycle.HiltViewModel
import dagger.hilt.android.qualifiers.ApplicationContext
import kotlinx.coroutines.delay
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import java.util.*
import javax.inject.Inject

@HiltViewModel
class RandomTopicViewModel @Inject constructor(
    @ApplicationContext private val context: Context,
    private val recordingDao: RecordingDao,
    private val userPreferencesDataStore: UserPreferencesDataStore
) : ViewModel() {
    
    private val _state = MutableStateFlow(RandomTopicState())
    val state: StateFlow<RandomTopicState> = _state.asStateFlow()
    
    private val audioRecorder = AudioRecorderUtil(context)
    
    init {
        generateNewTopic()
    }
    
    override fun onCleared() {
        super.onCleared()
        audioRecorder.release()
    }
    
    fun onEvent(event: RandomTopicEvent) {
        when (event) {
            RandomTopicEvent.GenerateNewTopic -> {
                generateNewTopic()
            }
            RandomTopicEvent.StartPreparation -> {
                startPreparationTimer()
            }
            RandomTopicEvent.StartRecording -> {
                startRecording()
            }
            RandomTopicEvent.StopRecording -> {
                stopRecording()
            }
            RandomTopicEvent.CompleteTask -> {
                completeTask()
            }
        }
    }
    
    private fun generateNewTopic() {
        val allTopics = ImprovisationTopicsProvider.getAllTopics()
        val randomTopic = allTopics.random()
        
        _state.update {
            it.copy(
                currentTopic = randomTopic,
                preparationTimeLeft = 15,
                isPreparationPhase = true,
                isRecording = false,
                recordingPath = null,
                recordingId = null
            )
        }
    }
    
    private fun startPreparationTimer() {
        viewModelScope.launch {
            for (i in 15 downTo 0) {
                _state.update { it.copy(preparationTimeLeft = i) }
                delay(1000)
            }
            
            // Timer finished, user can now start recording
            _state.update { it.copy(isPreparationPhase = false) }
        }
    }
    
    private fun startRecording() {
        viewModelScope.launch {
            try {
                val outputFile = context.filesDir.resolve("recordings/${UUID.randomUUID()}.m4a")
                outputFile.parentFile?.mkdirs()
                
                audioRecorder.startRecording(outputFile.absolutePath)
                
                _state.update {
                    it.copy(
                        isRecording = true,
                        recordingPath = outputFile.absolutePath,
                        isPreparationPhase = false
                    )
                }
                
                // Track recording duration
                val startTime = System.currentTimeMillis()
                while (_state.value.isRecording) {
                    val duration = System.currentTimeMillis() - startTime
                    _state.update { it.copy(recordingDurationMs = duration) }
                    delay(100)
                }
            } catch (e: Exception) {
                _state.update {
                    it.copy(
                        error = "ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ: ${e.message}",
                        isRecording = false
                    )
                }
            }
        }
    }
    
    private fun stopRecording() {
        viewModelScope.launch {
            try {
                val result = audioRecorder.stopRecording()
                
                _state.update {
                    it.copy(
                        isRecording = false,
                        recordingPath = result?.filePath,
                        recordingDurationMs = result?.durationMs ?: it.recordingDurationMs
                    )
                }
            } catch (e: Exception) {
                _state.update {
                    it.copy(
                        error = "ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ¸ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ: ${e.message}",
                        isRecording = false
                    )
                }
            }
        }
    }
    
    private fun completeTask() {
        viewModelScope.launch {
            try {
                val recordingPath = _state.value.recordingPath
                val topic = _state.value.currentTopic
                
                if (recordingPath != null && topic != null) {
                    // Save recording to database
                    val recordingId = UUID.randomUUID().toString()
                    val recordingEntity = RecordingEntity(
                        id = recordingId,
                        filePath = recordingPath,
                        durationMs = _state.value.recordingDurationMs,
                        type = "improvisation",
                        contextId = "random_topic",
                        exerciseId = null,
                        isAnalyzed = false
                    )
                    recordingDao.insert(recordingEntity)
                    
                    // Increment free improvisation counter
                    userPreferencesDataStore.incrementFreeImprovisations()
                    
                    // Store recordingId for navigation
                    _state.update { it.copy(recordingId = recordingId) }
                }
            } catch (e: Exception) {
                _state.update {
                    it.copy(error = "ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ: ${e.message}")
                }
            }
        }
    }
}
```

### 10. RandomTopicScreen.kt

```kotlin
package com.aivoicepower.ui.screens.improvisation

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.rememberScrollState
import androidx.compose.foundation.verticalScroll
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.aivoicepower.ui.screens.improvisation.components.*

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun RandomTopicScreen(
    viewModel: RandomTopicViewModel = hiltViewModel(),
    onNavigateBack: () -> Unit,
    onNavigateToResults: (recordingId: String) -> Unit
) {
    val state by viewModel.state.collectAsStateWithLifecycle()
    
    // Auto-start preparation timer when topic is loaded
    LaunchedEffect(state.currentTopic) {
        if (state.currentTopic != null && state.isPreparationPhase && state.preparationTimeLeft == 15) {
            viewModel.onEvent(RandomTopicEvent.StartPreparation)
        }
    }
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("ğŸ² Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ğ°") },
                navigationIcon = {
                    IconButton(onClick = onNavigateBack) {
                        Icon(Icons.Default.ArrowBack, contentDescription = "ĞĞ°Ğ·Ğ°Ğ´")
                    }
                }
            )
        }
    ) { paddingValues ->
        Column(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues)
                .verticalScroll(rememberScrollState())
                .padding(16.dp),
            verticalArrangement = Arrangement.spacedBy(16.dp)
        ) {
            when {
                state.isPreparationPhase -> {
                    // Preparation phase
                    state.currentTopic?.let { topic ->
                        TopicDisplayCard(topic = topic)
                        
                        PreparationTimerCard(
                            timeLeft = state.preparationTimeLeft,
                            onGenerateNew = {
                                viewModel.onEvent(RandomTopicEvent.GenerateNewTopic)
                            }
                        )
                    }
                    
                    if (state.preparationTimeLeft == 0) {
                        Button(
                            onClick = {
                                viewModel.onEvent(RandomTopicEvent.StartRecording)
                            },
                            modifier = Modifier.fillMaxWidth()
                        ) {
                            Text("ğŸ¤ ĞŸĞ¾Ñ‡Ğ°Ñ‚Ğ¸ Ğ·Ğ°Ğ¿Ğ¸Ñ")
                        }
                    }
                }
                
                state.isRecording -> {
                    // Recording phase
                    state.currentTopic?.let { topic ->
                        RandomTopicRecordingCard(
                            topic = topic,
                            durationMs = state.recordingDurationMs,
                            onStop = {
                                viewModel.onEvent(RandomTopicEvent.StopRecording)
                            }
                        )
                    }
                }
                
                else -> {
                    // Recording completed
                    state.currentTopic?.let { topic ->
                        Card(
                            modifier = Modifier.fillMaxWidth(),
                            colors = CardDefaults.cardColors(
                                containerColor = MaterialTheme.colorScheme.primaryContainer
                            )
                        ) {
                            Column(
                                modifier = Modifier.padding(16.dp),
                                horizontalAlignment = Alignment.CenterHorizontally,
                                verticalArrangement = Arrangement.spacedBy(8.dp)
                            ) {
                                Text(
                                    text = "âœ“ Ğ—Ğ°Ğ¿Ğ¸Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",
                                    style = MaterialTheme.typography.titleLarge
                                )
                                Text(
                                    text = "Ğ¢Ñ€Ğ¸Ğ²Ğ°Ğ»Ñ–ÑÑ‚ÑŒ: ${formatDuration(state.recordingDurationMs)}",
                                    style = MaterialTheme.typography.bodyMedium
                                )
                            }
                        }
                        
                        Button(
                            onClick = {
                                viewModel.onEvent(RandomTopicEvent.CompleteTask)
                                // Wait for recordingId to be set
                                state.recordingId?.let { recordingId ->
                                    onNavigateToResults(recordingId)
                                }
                            },
                            modifier = Modifier.fillMaxWidth(),
                            enabled = state.recordingId != null || state.recordingPath != null
                        ) {
                            Text("ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ½ÑƒÑ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸")
                        }
                        
                        OutlinedButton(
                            onClick = {
                                viewModel.onEvent(RandomTopicEvent.GenerateNewTopic)
                            },
                            modifier = Modifier.fillMaxWidth()
                        ) {
                            Text("ğŸ”„ ĞĞ¾Ğ²Ğ° Ñ‚ĞµĞ¼Ğ°")
                        }
                    }
                }
            }
            
            // Error message
            state.error?.let { error ->
                Card(
                    colors = CardDefaults.cardColors(
                        containerColor = MaterialTheme.colorScheme.errorContainer
                    )
                ) {
                    Text(
                        text = error,
                        modifier = Modifier.padding(16.dp),
                        color = MaterialTheme.colorScheme.onErrorContainer
                    )
                }
            }
        }
    }
}

private fun formatDuration(durationMs: Long): String {
    val seconds = (durationMs / 1000).toInt()
    val minutes = seconds / 60
    val remainingSeconds = seconds % 60
    return String.format("%02d:%02d", minutes, remainingSeconds)
}
```

### 11-14. Components (TopicDisplayCard, PreparationTimerCard, RandomTopicRecordingCard)

[Components code same as in previous version - Ñ–Ğ½ĞºĞ»ÑƒĞ´Ğ¸Ğ² Ğ¿Ğ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ]

---

### 15. Content Provider

#### data/content/ImprovisationTopicsProvider.kt

```kotlin
package com.aivoicepower.data.content

import com.aivoicepower.domain.model.content.ImprovisationTopic
import com.aivoicepower.domain.model.course.Difficulty

object ImprovisationTopicsProvider {
    
    fun getAllTopics(): List<ImprovisationTopic> {
        return listOf(
            // BEGINNER (15 topics)
            ImprovisationTopic(
                id = "topic_1",
                title = "Ğ§Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ– Ğ·Ğ¼Ñ–Ğ½ÑÑÑ‚ÑŒ Ğ»ÑĞ´Ğ¸Ğ½Ñƒ",
                difficulty = Difficulty.BEGINNER,
                hints = listOf(
                    "Ğ’Ğ»Ğ°ÑĞ½Ğ¸Ğ¹ Ğ´Ğ¾ÑĞ²Ñ–Ğ´ Ğ¿Ğ¾Ğ´Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ¹",
                    "ĞĞ¾Ğ²Ñ– Ğ¿ĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ¸ Ñ‚Ğ° ÑĞ²Ñ–Ñ‚Ğ¾Ğ³Ğ»ÑĞ´",
                    "ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¸Ğ¹ Ğ¾Ğ±Ğ¼Ñ–Ğ½"
                )
            ),
            ImprovisationTopic(
                id = "topic_2",
                title = "Ğ¯Ğº Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ— Ğ²Ğ¿Ğ»Ğ¸Ğ²Ğ°ÑÑ‚ÑŒ Ğ½Ğ° Ğ½Ğ°ÑˆĞµ Ğ¶Ğ¸Ñ‚Ñ‚Ñ",
                difficulty = Difficulty.BEGINNER,
                hints = listOf(
                    "ĞŸĞ¾Ğ·Ğ¸Ñ‚Ğ¸Ğ²Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ¸",
                    "Ğ’Ğ¸ĞºĞ»Ğ¸ĞºĞ¸ Ñ‚Ğ° Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸",
                    "ĞœĞ°Ğ¹Ğ±ÑƒÑ‚Ğ½Ñ” Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ğ¹"
                )
            ),
            // ... more 20+ topics
        )
    }
    
    fun getTopicById(id: String): ImprovisationTopic? {
        return getAllTopics().find { it.id == id }
    }
}
```

---

## ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ NavGraph.kt

```kotlin
// Improvisation hub
composable(NavRoutes.Improvisation.route) {
    ImprovisationScreen(
        onNavigateToRandomTopic = {
            navController.navigate(NavRoutes.RandomTopic.route)
        },
        onNavigateToStorytelling = {},
        onNavigateToDebate = {},
        onNavigateToSales = {},
        onNavigateToChallenge = {},
        onNavigateToPremium = {
            navController.navigate(NavRoutes.Premium.route)
        }
    )
}

// Random Topic
composable(NavRoutes.RandomTopic.route) {
    RandomTopicScreen(
        onNavigateBack = { navController.popBackStack() },
        onNavigateToResults = { recordingId ->
            navController.navigate(NavRoutes.Results.createRoute(recordingId))
        }
    )
}
```

---

## ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ°

### Testing Flow
- [ ] Hub Ğ¿Ğ¾ĞºĞ°Ğ·ÑƒÑ” 5 mode cards
- [ ] Random Topic Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹
- [ ] Timer Ğ¿Ñ€Ğ°Ñ†ÑÑ” 15 â†’ 0
- [ ] Recording Ğ¿Ñ€Ğ°Ñ†ÑÑ”
- [ ] Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ² DB
- [ ] Free tier limits

---

## ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

âœ… Improvisation Hub + Random Topic ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾
âœ… 20+ Ñ‚ĞµĞ¼
âœ… Free tier limits
âœ… Navigation Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°

**Ğ§Ğ°Ñ:** ~2-3 Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ¸