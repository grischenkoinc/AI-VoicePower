# –ü—Ä–æ–º–ø—Ç –¥–ª—è Claude Code ‚Äî Phase 7: Progress + Gamification

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–ü—Ä–æ–¥–æ–≤–∂—É—é —Ä–æ–∑—Ä–æ–±–∫—É AI VoicePower. –ó–∞–≤–µ—Ä—à–µ–Ω—ñ —Ñ–∞–∑–∏:
- ‚úÖ Phase 0.1-0.6 ‚Äî Infrastructure  
- ‚úÖ Phase 1.1-1.4 ‚Äî Onboarding + Diagnostic
- ‚úÖ Phase 2.1-2.5 ‚Äî Warmup
- ‚úÖ Phase 3 ‚Äî Home Screen
- ‚úÖ Phase 4.1-4.4 ‚Äî Courses (–ø–æ–≤–Ω—ñ—Å—Ç—é)
- ‚úÖ Phase 5.1-5.3 ‚Äî Improvisation (–ø–æ–≤–Ω—ñ—Å—Ç—é)
- ‚úÖ Phase 6.1-6.3 ‚Äî AI Coach (–ø–æ–≤–Ω—ñ—Å—Ç—é)

–ó–∞—Ä–∞–∑ **Phase 7 ‚Äî Progress + Gamification** ‚Äî –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–≥—Ä–µ—Å—É —Ç–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

**–ó–≥—ñ–¥–Ω–æ –∑ PHASE_STRUCTURE_GUIDE.md**: –°–µ—Ä–µ–¥–Ω—è —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ü—ñ–ª—å–Ω–æ—é —Ñ–∞–∑–æ—é –∞–±–æ —Ä–æ–∑–±–∏—Ç–∏ –Ω–∞ 2 –ø—ñ–¥—Ñ–∞–∑–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –¶–Ü–õ–¨–ù–ê –§–ê–ó–ê (—Ç—ñ—Å–Ω–æ –ø–æ–≤'—è–∑–∞–Ω—ñ –µ–∫—Ä–∞–Ω–∏).

**–°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è:** `SPECIFICATION.md`, —Å–µ–∫—Ü—ñ—è 4.3.9 (Progress Screen).

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** üü° –°–ï–†–ï–î–ù–Ø  
**–ß–∞—Å:** ‚è±Ô∏è 3-4 –≥–æ–¥–∏–Ω–∏

---

## –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è

**Phase 7** —Å—Ç–≤–æ—Ä—é—î –º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É –∑ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—î—é –ø—Ä–æ–≥—Ä–µ—Å—É:

### 1. **ProgressScreen** (–≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω –ø—Ä–æ–≥—Ä–µ—Å—É)
```
Progress Overview
‚îú‚îÄ‚îÄ Overall Level (circular progress 0-100)
‚îú‚îÄ‚îÄ Current Streak üî• (–¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å)
‚îú‚îÄ‚îÄ Skill Levels (7 metrics radar/bars)
‚îú‚îÄ‚îÄ Total Stats (exercises, minutes, recordings)
‚îî‚îÄ‚îÄ Charts (week/month progress)
```

### 2. **CompareScreen** ("–¥–æ/–ø—ñ—Å–ª—è")
```
Diagnostic Comparison
‚îú‚îÄ‚îÄ Initial diagnostic (Phase 1.4)
‚îú‚îÄ‚îÄ Latest recordings
‚îú‚îÄ‚îÄ Side-by-side metrics
‚îú‚îÄ‚îÄ Improvement % (+15% –¥–∏–∫—Ü—ñ—è)
‚îî‚îÄ‚îÄ Audio playback
```

### 3. **AchievementsScreen** (–±–µ–π–¥–∂—ñ)
```
Achievements Grid
‚îú‚îÄ‚îÄ Unlocked badges
‚îú‚îÄ‚îÄ Locked badges (with progress)
‚îú‚îÄ‚îÄ Categories (streak, courses, skills)
‚îî‚îÄ‚îÄ Share button
```

### 4. **RecordingHistoryScreen** (—ñ—Å—Ç–æ—Ä—ñ—è –∑–∞–ø–∏—Å—ñ–≤)
```
All Recordings
‚îú‚îÄ‚îÄ Filter by type (diagnostic, course, improvisation)
‚îú‚îÄ‚îÄ Sort by date/score
‚îú‚îÄ‚îÄ Play recording
‚îú‚îÄ‚îÄ View analysis
‚îî‚îÄ‚îÄ Delete option
```

---

## –ù–∞–≤—ñ–≥–∞—Ü—ñ—è

```
Bottom Navigation ‚Üí Progress Tab
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ ProgressScreen (main)
    ‚îÇ    ‚îú‚îÄ Stats overview
    ‚îÇ    ‚îú‚îÄ Charts
    ‚îÇ    ‚îî‚îÄ Quick actions:
    ‚îÇ        ‚îú‚îÄ "–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫–æ–º" ‚Üí CompareScreen
    ‚îÇ        ‚îú‚îÄ "–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è" ‚Üí AchievementsScreen
    ‚îÇ        ‚îî‚îÄ "–Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–ø–∏—Å—ñ–≤" ‚Üí RecordingHistoryScreen
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ CompareScreen
    ‚îÇ    ‚îú‚îÄ Initial vs Latest
    ‚îÇ    ‚îî‚îÄ Detailed metrics comparison
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ AchievementsScreen
    ‚îÇ    ‚îú‚îÄ Badges grid
    ‚îÇ    ‚îî‚îÄ Progress tracking
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ RecordingHistoryScreen
         ‚îú‚îÄ List of all recordings
         ‚îî‚îÄ Filter/sort options
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
ui/screens/progress/
‚îú‚îÄ‚îÄ ProgressScreen.kt
‚îú‚îÄ‚îÄ ProgressViewModel.kt
‚îú‚îÄ‚îÄ ProgressState.kt
‚îú‚îÄ‚îÄ ProgressEvent.kt
‚îÇ
‚îú‚îÄ‚îÄ CompareScreen.kt
‚îú‚îÄ‚îÄ CompareViewModel.kt
‚îú‚îÄ‚îÄ CompareState.kt
‚îÇ
‚îú‚îÄ‚îÄ AchievementsScreen.kt
‚îú‚îÄ‚îÄ AchievementsViewModel.kt
‚îú‚îÄ‚îÄ AchievementsState.kt
‚îÇ
‚îú‚îÄ‚îÄ RecordingHistoryScreen.kt
‚îú‚îÄ‚îÄ RecordingHistoryViewModel.kt
‚îú‚îÄ‚îÄ RecordingHistoryState.kt
‚îÇ
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ OverallLevelCard.kt
    ‚îú‚îÄ‚îÄ StreakCard.kt
    ‚îú‚îÄ‚îÄ SkillRadarChart.kt
    ‚îú‚îÄ‚îÄ SkillBarChart.kt
    ‚îú‚îÄ‚îÄ ProgressLineChart.kt
    ‚îú‚îÄ‚îÄ StatsCard.kt
    ‚îú‚îÄ‚îÄ ComparisonMetricCard.kt
    ‚îú‚îÄ‚îÄ AchievementBadge.kt
    ‚îú‚îÄ‚îÄ RecordingListItem.kt
    ‚îî‚îÄ‚îÄ AudioPlayerBar.kt

domain/model/
‚îî‚îÄ‚îÄ achievement/
    ‚îú‚îÄ‚îÄ Achievement.kt (UPDATE ‚Äî add more types)
    ‚îî‚îÄ‚îÄ AchievementType.kt (UPDATE)

data/content/
‚îî‚îÄ‚îÄ AchievementsProvider.kt (NEW)
```

---

## –ü–æ–≤–Ω–∏–π –∫–æ–¥

### 1. ProgressState.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import com.aivoicepower.domain.model.achievement.Achievement
import com.aivoicepower.domain.model.analysis.SkillType

data class ProgressState(
    val isLoading: Boolean = true,
    
    // Overall
    val overallLevel: Int = 0, // 0-100
    val currentStreak: Int = 0,
    val longestStreak: Int = 0,
    
    // Stats
    val totalExercises: Int = 0,
    val totalMinutes: Int = 0,
    val totalRecordings: Int = 0,
    
    // Skill levels (current)
    val skillLevels: Map<SkillType, Int> = emptyMap(),
    
    // Progress over time (last 7 days)
    val weeklyProgress: List<DailyProgress> = emptyList(),
    
    // Recent achievements
    val recentAchievements: List<Achievement> = emptyList(),
    val totalAchievements: Int = 0,
    val unlockedAchievements: Int = 0,
    
    val error: String? = null
)

data class DailyProgress(
    val date: String, // "2024-12-18"
    val exercises: Int,
    val minutes: Int
)
```

### 2. ProgressEvent.kt

```kotlin
package com.aivoicepower.ui.screens.progress

sealed class ProgressEvent {
    object Refresh : ProgressEvent()
    object NavigateToCompare : ProgressEvent()
    object NavigateToAchievements : ProgressEvent()
    object NavigateToHistory : ProgressEvent()
}
```

### 3. ProgressViewModel.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.aivoicepower.domain.model.analysis.SkillType
import com.aivoicepower.domain.repository.*
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import javax.inject.Inject

@HiltViewModel
class ProgressViewModel @Inject constructor(
    private val userProgressRepository: UserRepository,
    private val diagnosticRepository: DiagnosticRepository,
    private val achievementRepository: AchievementRepository,
    private val courseProgressRepository: CourseRepository,
    private val warmupCompletionRepository: WarmupRepository
) : ViewModel() {
    
    private val _state = MutableStateFlow(ProgressState())
    val state: StateFlow<ProgressState> = _state.asStateFlow()
    
    init {
        loadProgress()
    }
    
    fun onEvent(event: ProgressEvent) {
        when (event) {
            ProgressEvent.Refresh -> loadProgress()
            ProgressEvent.NavigateToCompare -> { /* Handled by Screen */ }
            ProgressEvent.NavigateToAchievements -> { /* Handled by Screen */ }
            ProgressEvent.NavigateToHistory -> { /* Handled by Screen */ }
        }
    }
    
    private fun loadProgress() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true) }
            
            try {
                // Load user progress
                userProgressRepository.getUserProgress().collect { progress ->
                    val skillLevels = mapOf(
                        SkillType.DICTION to progress.dictionLevel,
                        SkillType.TEMPO to progress.tempoLevel,
                        SkillType.INTONATION to progress.intonationLevel,
                        SkillType.VOLUME to progress.volumeLevel,
                        SkillType.STRUCTURE to progress.structureLevel,
                        SkillType.CONFIDENCE to progress.confidenceLevel,
                        SkillType.FILLER_WORDS to progress.fillerWordsLevel
                    )
                    
                    // Calculate overall level (average of all skills)
                    val overallLevel = skillLevels.values.average().toInt()
                    
                    _state.update {
                        it.copy(
                            overallLevel = overallLevel,
                            currentStreak = progress.currentStreak,
                            longestStreak = progress.longestStreak,
                            totalExercises = progress.totalExercises,
                            totalMinutes = progress.totalMinutes,
                            totalRecordings = progress.totalRecordings,
                            skillLevels = skillLevels,
                            isLoading = false
                        )
                    }
                }
                
                // Load weekly progress
                loadWeeklyProgress()
                
                // Load achievements
                loadAchievements()
                
            } catch (e: Exception) {
                _state.update {
                    it.copy(
                        isLoading = false,
                        error = "–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${e.message}"
                    )
                }
            }
        }
    }
    
    private suspend fun loadWeeklyProgress() {
        // TODO: Implement actual weekly data aggregation
        // For now, generate mock data
        val weeklyProgress = (0..6).map { daysAgo ->
            val date = java.time.LocalDate.now().minusDays(daysAgo.toLong())
            DailyProgress(
                date = date.toString(),
                exercises = if (daysAgo < 3) (5..15).random() else 0,
                minutes = if (daysAgo < 3) (10..30).random() else 0
            )
        }.reversed()
        
        _state.update { it.copy(weeklyProgress = weeklyProgress) }
    }
    
    private suspend fun loadAchievements() {
        achievementRepository.getUnlockedAchievements().collect { achievements ->
            _state.update {
                it.copy(
                    recentAchievements = achievements.take(3),
                    unlockedAchievements = achievements.size
                )
            }
        }
        
        achievementRepository.getAllAchievements().collect { allAchievements ->
            _state.update { it.copy(totalAchievements = allAchievements.size) }
        }
    }
}
```

### 4. ProgressScreen.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.*
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.aivoicepower.ui.screens.progress.components.*

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun ProgressScreen(
    viewModel: ProgressViewModel = hiltViewModel(),
    onNavigateToCompare: () -> Unit,
    onNavigateToAchievements: () -> Unit,
    onNavigateToHistory: () -> Unit
) {
    val state by viewModel.state.collectAsStateWithLifecycle()
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("–ü—Ä–æ–≥—Ä–µ—Å") },
                actions = {
                    IconButton(onClick = { viewModel.onEvent(ProgressEvent.Refresh) }) {
                        Icon(Icons.Default.Refresh, contentDescription = "–û–Ω–æ–≤–∏—Ç–∏")
                    }
                }
            )
        }
    ) { paddingValues ->
        if (state.isLoading) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentAlignment = androidx.compose.ui.Alignment.Center
            ) {
                CircularProgressIndicator()
            }
        } else {
            LazyColumn(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentPadding = PaddingValues(16.dp),
                verticalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                // Overall Level
                item {
                    OverallLevelCard(
                        level = state.overallLevel,
                        levelLabel = getLevelLabel(state.overallLevel)
                    )
                }
                
                // Streak
                item {
                    StreakCard(
                        currentStreak = state.currentStreak,
                        longestStreak = state.longestStreak
                    )
                }
                
                // Stats Overview
                item {
                    StatsCard(
                        totalExercises = state.totalExercises,
                        totalMinutes = state.totalMinutes,
                        totalRecordings = state.totalRecordings
                    )
                }
                
                // Skill Levels
                item {
                    Card(modifier = Modifier.fillMaxWidth()) {
                        Column(modifier = Modifier.padding(16.dp)) {
                            Text(
                                text = "–ù–∞–≤–∏—á–∫–∏",
                                style = MaterialTheme.typography.titleLarge
                            )
                            
                            Spacer(modifier = Modifier.height(16.dp))
                            
                            // Radar Chart
                            SkillRadarChart(
                                skillLevels = state.skillLevels,
                                modifier = Modifier
                                    .fillMaxWidth()
                                    .height(200.dp)
                            )
                            
                            Spacer(modifier = Modifier.height(16.dp))
                            
                            // Bar Chart
                            SkillBarChart(
                                skillLevels = state.skillLevels
                            )
                        }
                    }
                }
                
                // Weekly Progress Chart
                item {
                    Card(modifier = Modifier.fillMaxWidth()) {
                        Column(modifier = Modifier.padding(16.dp)) {
                            Text(
                                text = "–ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å (7 –¥–Ω—ñ–≤)",
                                style = MaterialTheme.typography.titleLarge
                            )
                            
                            Spacer(modifier = Modifier.height(16.dp))
                            
                            ProgressLineChart(
                                weeklyProgress = state.weeklyProgress,
                                modifier = Modifier
                                    .fillMaxWidth()
                                    .height(150.dp)
                            )
                        }
                    }
                }
                
                // Recent Achievements
                if (state.recentAchievements.isNotEmpty()) {
                    item {
                        Card(modifier = Modifier.fillMaxWidth()) {
                            Column(modifier = Modifier.padding(16.dp)) {
                                Row(
                                    modifier = Modifier.fillMaxWidth(),
                                    horizontalArrangement = Arrangement.SpaceBetween
                                ) {
                                    Text(
                                        text = "–û—Å—Ç–∞–Ω–Ω—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è",
                                        style = MaterialTheme.typography.titleLarge
                                    )
                                    TextButton(onClick = onNavigateToAchievements) {
                                        Text("–í—Å—ñ")
                                    }
                                }
                                
                                Spacer(modifier = Modifier.height(12.dp))
                                
                                state.recentAchievements.forEach { achievement ->
                                    AchievementBadge(
                                        achievement = achievement,
                                        modifier = Modifier
                                            .fillMaxWidth()
                                            .padding(vertical = 4.dp)
                                    )
                                }
                                
                                Spacer(modifier = Modifier.height(8.dp))
                                
                                Text(
                                    text = "–í—ñ–¥–∫—Ä–∏—Ç–æ: ${state.unlockedAchievements}/${state.totalAchievements}",
                                    style = MaterialTheme.typography.bodySmall,
                                    color = MaterialTheme.colorScheme.onSurfaceVariant
                                )
                            }
                        }
                    }
                }
                
                // Quick Actions
                item {
                    Text(
                        text = "–î—ñ—ó",
                        style = MaterialTheme.typography.titleMedium
                    )
                }
                
                item {
                    OutlinedCard(
                        onClick = onNavigateToCompare,
                        modifier = Modifier.fillMaxWidth()
                    ) {
                        Row(
                            modifier = Modifier
                                .fillMaxWidth()
                                .padding(16.dp),
                            horizontalArrangement = Arrangement.SpaceBetween
                        ) {
                            Row(horizontalArrangement = Arrangement.spacedBy(12.dp)) {
                                Icon(Icons.Default.Compare, contentDescription = null)
                                Text("–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫–æ–º")
                            }
                            Icon(Icons.Default.ChevronRight, contentDescription = null)
                        }
                    }
                }
                
                item {
                    OutlinedCard(
                        onClick = onNavigateToHistory,
                        modifier = Modifier.fillMaxWidth()
                    ) {
                        Row(
                            modifier = Modifier
                                .fillMaxWidth()
                                .padding(16.dp),
                            horizontalArrangement = Arrangement.SpaceBetween
                        ) {
                            Row(horizontalArrangement = Arrangement.spacedBy(12.dp)) {
                                Icon(Icons.Default.History, contentDescription = null)
                                Text("–Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–ø–∏—Å—ñ–≤")
                            }
                            Icon(Icons.Default.ChevronRight, contentDescription = null)
                        }
                    }
                }
            }
        }
    }
}

private fun getLevelLabel(level: Int): String {
    return when {
        level < 20 -> "–ü–æ—á–∞—Ç–∫—ñ–≤–µ—Ü—å"
        level < 40 -> "–ü—Ä–∞–∫—Ç–∏–∫—É—é—á–∏–π"
        level < 60 -> "–î–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π"
        level < 80 -> "–ú–∞–π—Å—Ç–µ—Ä"
        else -> "–ü—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª"
    }
}
```

### 5. CompareScreen.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.aivoicepower.ui.screens.progress.components.ComparisonMetricCard

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun CompareScreen(
    viewModel: CompareViewModel = hiltViewModel(),
    onNavigateBack: () -> Unit
) {
    val state by viewModel.state.collectAsStateWithLifecycle()
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è \"–î–æ/–ü—ñ—Å–ª—è\"") },
                navigationIcon = {
                    IconButton(onClick = onNavigateBack) {
                        Icon(Icons.Default.ArrowBack, contentDescription = "–ù–∞–∑–∞–¥")
                    }
                }
            )
        }
    ) { paddingValues ->
        if (state.isLoading) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentAlignment = androidx.compose.ui.Alignment.Center
            ) {
                CircularProgressIndicator()
            }
        } else if (state.initialDiagnostic == null) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues)
                    .padding(24.dp),
                contentAlignment = androidx.compose.ui.Alignment.Center
            ) {
                Column(horizontalAlignment = androidx.compose.ui.Alignment.CenterHorizontally) {
                    Text(
                        text = "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö",
                        style = MaterialTheme.typography.headlineSmall
                    )
                    Spacer(modifier = Modifier.height(8.dp))
                    Text(
                        text = "–ü—Ä–æ–π–¥—ñ—Ç—å –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É —Ç–∞ –∑—Ä–æ–±—ñ—Ç—å –∫—ñ–ª—å–∫–∞ –≤–ø—Ä–∞–≤",
                        style = MaterialTheme.typography.bodyMedium,
                        color = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                }
            }
        } else {
            LazyColumn(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentPadding = PaddingValues(16.dp),
                verticalArrangement = Arrangement.spacedBy(16.dp)
            ) {
                item {
                    Card(
                        modifier = Modifier.fillMaxWidth(),
                        colors = CardDefaults.cardColors(
                            containerColor = MaterialTheme.colorScheme.primaryContainer
                        )
                    ) {
                        Column(modifier = Modifier.padding(16.dp)) {
                            Text(
                                text = "–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å",
                                style = MaterialTheme.typography.titleLarge
                            )
                            Spacer(modifier = Modifier.height(8.dp))
                            Row(
                                modifier = Modifier.fillMaxWidth(),
                                horizontalArrangement = Arrangement.SpaceBetween
                            ) {
                                Column {
                                    Text(
                                        text = "–ë—É–ª–æ",
                                        style = MaterialTheme.typography.labelSmall
                                    )
                                    Text(
                                        text = "${state.initialDiagnostic?.overall() ?: 0}",
                                        style = MaterialTheme.typography.headlineMedium
                                    )
                                }
                                
                                Icon(
                                    imageVector = Icons.Default.ArrowForward,
                                    contentDescription = null,
                                    modifier = Modifier.align(androidx.compose.ui.Alignment.CenterVertically)
                                )
                                
                                Column {
                                    Text(
                                        text = "–ó–∞—Ä–∞–∑",
                                        style = MaterialTheme.typography.labelSmall
                                    )
                                    Text(
                                        text = "${state.currentLevel}",
                                        style = MaterialTheme.typography.headlineMedium,
                                        color = MaterialTheme.colorScheme.primary
                                    )
                                }
                                
                                Column {
                                    Text(
                                        text = "–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è",
                                        style = MaterialTheme.typography.labelSmall
                                    )
                                    Text(
                                        text = "+${state.improvement}%",
                                        style = MaterialTheme.typography.headlineMedium,
                                        color = MaterialTheme.colorScheme.tertiary
                                    )
                                }
                            }
                        }
                    }
                }
                
                item {
                    Text(
                        text = "–î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ –Ω–∞–≤–∏—á–∫–∞—Ö",
                        style = MaterialTheme.typography.titleMedium
                    )
                }
                
                items(state.comparisons.size) { index ->
                    val comparison = state.comparisons[index]
                    ComparisonMetricCard(
                        skillName = comparison.skillName,
                        initialValue = comparison.initialValue,
                        currentValue = comparison.currentValue,
                        improvement = comparison.improvement
                    )
                }
            }
        }
    }
}
```

### 6. CompareViewModel.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.aivoicepower.domain.model.analysis.SkillType
import com.aivoicepower.domain.model.user.DiagnosticResult
import com.aivoicepower.domain.repository.DiagnosticRepository
import com.aivoicepower.domain.repository.UserRepository
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import javax.inject.Inject

data class CompareState(
    val isLoading: Boolean = true,
    val initialDiagnostic: DiagnosticResult? = null,
    val currentLevel: Int = 0,
    val improvement: Int = 0,
    val comparisons: List<SkillComparison> = emptyList()
)

data class SkillComparison(
    val skillName: String,
    val initialValue: Int,
    val currentValue: Int,
    val improvement: Int
)

@HiltViewModel
class CompareViewModel @Inject constructor(
    private val diagnosticRepository: DiagnosticRepository,
    private val userRepository: UserRepository
) : ViewModel() {
    
    private val _state = MutableStateFlow(CompareState())
    val state: StateFlow<CompareState> = _state.asStateFlow()
    
    init {
        loadComparison()
    }
    
    private fun loadComparison() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true) }
            
            try {
                // Get initial diagnostic
                diagnosticRepository.getInitialDiagnostic().collect { diagnostic ->
                    if (diagnostic == null) {
                        _state.update { it.copy(isLoading = false) }
                        return@collect
                    }
                    
                    // Get current levels
                    userRepository.getUserProgress().collect { progress ->
                        val comparisons = listOf(
                            SkillComparison(
                                skillName = "–î–∏–∫—Ü—ñ—è",
                                initialValue = diagnostic.diction,
                                currentValue = progress.dictionLevel,
                                improvement = calculateImprovement(diagnostic.diction, progress.dictionLevel)
                            ),
                            SkillComparison(
                                skillName = "–¢–µ–º–ø",
                                initialValue = diagnostic.tempo,
                                currentValue = progress.tempoLevel,
                                improvement = calculateImprovement(diagnostic.tempo, progress.tempoLevel)
                            ),
                            SkillComparison(
                                skillName = "–Ü–Ω—Ç–æ–Ω–∞—Ü—ñ—è",
                                initialValue = diagnostic.intonation,
                                currentValue = progress.intonationLevel,
                                improvement = calculateImprovement(diagnostic.intonation, progress.intonationLevel)
                            ),
                            SkillComparison(
                                skillName = "–ì—É—á–Ω—ñ—Å—Ç—å",
                                initialValue = diagnostic.volume,
                                currentValue = progress.volumeLevel,
                                improvement = calculateImprovement(diagnostic.volume, progress.volumeLevel)
                            ),
                            SkillComparison(
                                skillName = "–°—Ç—Ä—É–∫—Ç—É—Ä–∞",
                                initialValue = diagnostic.structure,
                                currentValue = progress.structureLevel,
                                improvement = calculateImprovement(diagnostic.structure, progress.structureLevel)
                            ),
                            SkillComparison(
                                skillName = "–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å",
                                initialValue = diagnostic.confidence,
                                currentValue = progress.confidenceLevel,
                                improvement = calculateImprovement(diagnostic.confidence, progress.confidenceLevel)
                            ),
                            SkillComparison(
                                skillName = "–ß–∏—Å—Ç–æ—Ç–∞ –º–æ–≤–ª–µ–Ω–Ω—è",
                                initialValue = diagnostic.fillerWords,
                                currentValue = progress.fillerWordsLevel,
                                improvement = calculateImprovement(diagnostic.fillerWords, progress.fillerWordsLevel)
                            )
                        )
                        
                        val initialOverall = diagnostic.overall()
                        val currentOverall = comparisons.map { it.currentValue }.average().toInt()
                        val overallImprovement = calculateImprovement(initialOverall, currentOverall)
                        
                        _state.update {
                            it.copy(
                                isLoading = false,
                                initialDiagnostic = diagnostic,
                                currentLevel = currentOverall,
                                improvement = overallImprovement,
                                comparisons = comparisons
                            )
                        }
                    }
                }
            } catch (e: Exception) {
                _state.update { it.copy(isLoading = false) }
            }
        }
    }
    
    private fun calculateImprovement(initial: Int, current: Int): Int {
        if (initial == 0) return 0
        return ((current - initial).toFloat() / initial * 100).toInt()
    }
}

private fun DiagnosticResult.overall(): Int {
    return ((diction + tempo + intonation + volume + structure + confidence + fillerWords) / 7.0).toInt()
}
```

### 7. AchievementsScreen.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.grid.GridCells
import androidx.compose.foundation.lazy.grid.LazyVerticalGrid
import androidx.compose.foundation.lazy.grid.items
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.lifecycle.compose.collectAsStateWithLifecycle
import com.aivoicepower.ui.screens.progress.components.AchievementBadge

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun AchievementsScreen(
    viewModel: AchievementsViewModel = hiltViewModel(),
    onNavigateBack: () -> Unit
) {
    val state by viewModel.state.collectAsStateWithLifecycle()
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { 
                    Column {
                        Text("–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è")
                        Text(
                            text = "${state.unlockedCount}/${state.totalCount} –≤—ñ–¥–∫—Ä–∏—Ç–æ",
                            style = MaterialTheme.typography.bodySmall
                        )
                    }
                },
                navigationIcon = {
                    IconButton(onClick = onNavigateBack) {
                        Icon(Icons.Default.ArrowBack, contentDescription = "–ù–∞–∑–∞–¥")
                    }
                }
            )
        }
    ) { paddingValues ->
        if (state.isLoading) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentAlignment = androidx.compose.ui.Alignment.Center
            ) {
                CircularProgressIndicator()
            }
        } else {
            LazyVerticalGrid(
                columns = GridCells.Fixed(2),
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentPadding = PaddingValues(16.dp),
                horizontalArrangement = Arrangement.spacedBy(12.dp),
                verticalArrangement = Arrangement.spacedBy(12.dp)
            ) {
                items(state.achievements) { achievement ->
                    AchievementBadge(
                        achievement = achievement,
                        isLarge = true
                    )
                }
            }
        }
    }
}
```

### 8. AchievementsViewModel.kt

```kotlin
package com.aivoicepower.ui.screens.progress

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.aivoicepower.domain.model.achievement.Achievement
import com.aivoicepower.domain.repository.AchievementRepository
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import javax.inject.Inject

data class AchievementsState(
    val isLoading: Boolean = true,
    val achievements: List<Achievement> = emptyList(),
    val unlockedCount: Int = 0,
    val totalCount: Int = 0
)

@HiltViewModel
class AchievementsViewModel @Inject constructor(
    private val achievementRepository: AchievementRepository
) : ViewModel() {
    
    private val _state = MutableStateFlow(AchievementsState())
    val state: StateFlow<AchievementsState> = _state.asStateFlow()
    
    init {
        loadAchievements()
    }
    
    private fun loadAchievements() {
        viewModelScope.launch {
            _state.update { it.copy(isLoading = true) }
            
            try {
                achievementRepository.getAllAchievements().collect { achievements ->
                    val unlocked = achievements.count { it.isUnlocked }
                    
                    _state.update {
                        it.copy(
                            isLoading = false,
                            achievements = achievements,
                            unlockedCount = unlocked,
                            totalCount = achievements.size
                        )
                    }
                }
            } catch (e: Exception) {
                _state.update { it.copy(isLoading = false) }
            }
        }
    }
}
```

### 9. Components

#### components/OverallLevelCard.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun OverallLevelCard(
    level: Int,
    levelLabel: String,
    modifier: Modifier = Modifier
) {
    Card(
        modifier = modifier.fillMaxWidth(),
        colors = CardDefaults.cardColors(
            containerColor = MaterialTheme.colorScheme.primaryContainer
        )
    ) {
        Column(
            modifier = Modifier
                .fillMaxWidth()
                .padding(24.dp),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text(
                text = "–ó–∞–≥–∞–ª—å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å",
                style = MaterialTheme.typography.titleMedium
            )
            
            Spacer(modifier = Modifier.height(16.dp))
            
            // Circular Progress
            Box(
                contentAlignment = Alignment.Center,
                modifier = Modifier.size(120.dp)
            ) {
                CircularProgressIndicator(
                    progress = { level / 100f },
                    modifier = Modifier.fillMaxSize(),
                    strokeWidth = 12.dp,
                    trackColor = MaterialTheme.colorScheme.surfaceVariant
                )
                
                Column(horizontalAlignment = Alignment.CenterHorizontally) {
                    Text(
                        text = "$level",
                        style = MaterialTheme.typography.displayMedium,
                        color = MaterialTheme.colorScheme.primary
                    )
                    Text(
                        text = levelLabel,
                        style = MaterialTheme.typography.bodySmall
                    )
                }
            }
        }
    }
}
```

#### components/StreakCard.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun StreakCard(
    currentStreak: Int,
    longestStreak: Int,
    modifier: Modifier = Modifier
) {
    Card(modifier = modifier.fillMaxWidth()) {
        Row(
            modifier = Modifier
                .fillMaxWidth()
                .padding(20.dp),
            horizontalArrangement = Arrangement.SpaceEvenly
        ) {
            Column(horizontalAlignment = androidx.compose.ui.Alignment.CenterHorizontally) {
                Text(
                    text = "üî•",
                    style = MaterialTheme.typography.displaySmall
                )
                Text(
                    text = "$currentStreak",
                    style = MaterialTheme.typography.headlineMedium,
                    color = MaterialTheme.colorScheme.primary
                )
                Text(
                    text = "–¥–Ω—ñ–≤ –ø–æ—Å–ø—ñ–ª—å",
                    style = MaterialTheme.typography.bodySmall
                )
            }
            
            Divider(
                modifier = Modifier
                    .height(60.dp)
                    .width(1.dp)
            )
            
            Column(horizontalAlignment = androidx.compose.ui.Alignment.CenterHorizontally) {
                Text(
                    text = "üèÜ",
                    style = MaterialTheme.typography.displaySmall
                )
                Text(
                    text = "$longestStreak",
                    style = MaterialTheme.typography.headlineMedium
                )
                Text(
                    text = "—Ä–µ–∫–æ—Ä–¥",
                    style = MaterialTheme.typography.bodySmall
                )
            }
        }
    }
}
```

#### components/StatsCard.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun StatsCard(
    totalExercises: Int,
    totalMinutes: Int,
    totalRecordings: Int,
    modifier: Modifier = Modifier
) {
    Card(modifier = modifier.fillMaxWidth()) {
        Column(modifier = Modifier.padding(16.dp)) {
            Text(
                text = "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                style = MaterialTheme.typography.titleMedium
            )
            
            Spacer(modifier = Modifier.height(12.dp))
            
            Row(
                modifier = Modifier.fillMaxWidth(),
                horizontalArrangement = Arrangement.SpaceEvenly
            ) {
                StatItem(
                    icon = "‚úèÔ∏è",
                    value = "$totalExercises",
                    label = "–≤–ø—Ä–∞–≤"
                )
                
                StatItem(
                    icon = "‚è±Ô∏è",
                    value = "$totalMinutes",
                    label = "—Ö–≤–∏–ª–∏–Ω"
                )
                
                StatItem(
                    icon = "üé§",
                    value = "$totalRecordings",
                    label = "–∑–∞–ø–∏—Å—ñ–≤"
                )
            }
        }
    }
}

@Composable
private fun StatItem(
    icon: String,
    value: String,
    label: String
) {
    Column(horizontalAlignment = androidx.compose.ui.Alignment.CenterHorizontally) {
        Text(
            text = icon,
            style = MaterialTheme.typography.headlineMedium
        )
        Text(
            text = value,
            style = MaterialTheme.typography.titleLarge,
            color = MaterialTheme.colorScheme.primary
        )
        Text(
            text = label,
            style = MaterialTheme.typography.bodySmall,
            color = MaterialTheme.colorScheme.onSurfaceVariant
        )
    }
}
```

#### components/SkillBarChart.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import com.aivoicepower.domain.model.analysis.SkillType

@Composable
fun SkillBarChart(
    skillLevels: Map<SkillType, Int>,
    modifier: Modifier = Modifier
) {
    Column(
        modifier = modifier.fillMaxWidth(),
        verticalArrangement = Arrangement.spacedBy(8.dp)
    ) {
        skillLevels.forEach { (skill, level) ->
            SkillBar(
                name = getSkillName(skill),
                level = level
            )
        }
    }
}

@Composable
private fun SkillBar(
    name: String,
    level: Int
) {
    Column {
        Row(
            modifier = Modifier.fillMaxWidth(),
            horizontalArrangement = Arrangement.SpaceBetween
        ) {
            Text(
                text = name,
                style = MaterialTheme.typography.bodySmall
            )
            Text(
                text = "$level",
                style = MaterialTheme.typography.bodySmall,
                color = MaterialTheme.colorScheme.primary
            )
        }
        
        Spacer(modifier = Modifier.height(4.dp))
        
        LinearProgressIndicator(
            progress = { level / 100f },
            modifier = Modifier
                .fillMaxWidth()
                .height(8.dp),
            trackColor = MaterialTheme.colorScheme.surfaceVariant
        )
    }
}

private fun getSkillName(skill: SkillType): String {
    return when (skill) {
        SkillType.DICTION -> "–î–∏–∫—Ü—ñ—è"
        SkillType.TEMPO -> "–¢–µ–º–ø"
        SkillType.INTONATION -> "–Ü–Ω—Ç–æ–Ω–∞—Ü—ñ—è"
        SkillType.VOLUME -> "–ì—É—á–Ω—ñ—Å—Ç—å"
        SkillType.STRUCTURE -> "–°—Ç—Ä—É–∫—Ç—É—Ä–∞"
        SkillType.CONFIDENCE -> "–í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å"
        SkillType.FILLER_WORDS -> "–ß–∏—Å—Ç–æ—Ç–∞ –º–æ–≤–ª–µ–Ω–Ω—è"
    }
}
```

#### components/ComparisonMetricCard.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.TrendingUp
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun ComparisonMetricCard(
    skillName: String,
    initialValue: Int,
    currentValue: Int,
    improvement: Int,
    modifier: Modifier = Modifier
) {
    Card(modifier = modifier.fillMaxWidth()) {
        Row(
            modifier = Modifier
                .fillMaxWidth()
                .padding(16.dp),
            horizontalArrangement = Arrangement.SpaceBetween,
            verticalAlignment = Alignment.CenterVertically
        ) {
            Column(modifier = Modifier.weight(1f)) {
                Text(
                    text = skillName,
                    style = MaterialTheme.typography.titleMedium
                )
                
                Spacer(modifier = Modifier.height(8.dp))
                
                Row(horizontalArrangement = Arrangement.spacedBy(16.dp)) {
                    Column {
                        Text(
                            text = "–ë—É–ª–æ",
                            style = MaterialTheme.typography.labelSmall,
                            color = MaterialTheme.colorScheme.onSurfaceVariant
                        )
                        Text(
                            text = "$initialValue",
                            style = MaterialTheme.typography.bodyLarge
                        )
                    }
                    
                    Column {
                        Text(
                            text = "–ó–∞—Ä–∞–∑",
                            style = MaterialTheme.typography.labelSmall,
                            color = MaterialTheme.colorScheme.onSurfaceVariant
                        )
                        Text(
                            text = "$currentValue",
                            style = MaterialTheme.typography.bodyLarge,
                            color = MaterialTheme.colorScheme.primary
                        )
                    }
                }
            }
            
            if (improvement > 0) {
                Row(
                    verticalAlignment = Alignment.CenterVertically,
                    horizontalArrangement = Arrangement.spacedBy(4.dp)
                ) {
                    Icon(
                        imageVector = Icons.Default.TrendingUp,
                        contentDescription = null,
                        tint = MaterialTheme.colorScheme.tertiary,
                        modifier = Modifier.size(20.dp)
                    )
                    Text(
                        text = "+$improvement%",
                        style = MaterialTheme.typography.titleMedium,
                        color = MaterialTheme.colorScheme.tertiary
                    )
                }
            }
        }
    }
}
```

#### components/AchievementBadge.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.layout.*
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import com.aivoicepower.domain.model.achievement.Achievement

@Composable
fun AchievementBadge(
    achievement: Achievement,
    isLarge: Boolean = false,
    modifier: Modifier = Modifier
) {
    Card(
        modifier = modifier,
        colors = if (achievement.isUnlocked) {
            CardDefaults.cardColors()
        } else {
            CardDefaults.cardColors(
                containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)
            )
        }
    ) {
        Column(
            modifier = Modifier
                .fillMaxWidth()
                .padding(if (isLarge) 16.dp else 12.dp),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text(
                text = achievement.icon,
                style = if (isLarge) {
                    MaterialTheme.typography.displayMedium
                } else {
                    MaterialTheme.typography.headlineMedium
                }
            )
            
            Spacer(modifier = Modifier.height(8.dp))
            
            Text(
                text = achievement.title,
                style = if (isLarge) {
                    MaterialTheme.typography.titleMedium
                } else {
                    MaterialTheme.typography.titleSmall
                },
                maxLines = 2
            )
            
            if (!achievement.isUnlocked && achievement.progress != null && achievement.target != null) {
                Spacer(modifier = Modifier.height(8.dp))
                
                Column(horizontalAlignment = Alignment.CenterHorizontally) {
                    Text(
                        text = "${achievement.progress}/${achievement.target}",
                        style = MaterialTheme.typography.bodySmall,
                        color = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                    
                    LinearProgressIndicator(
                        progress = { achievement.progress.toFloat() / achievement.target },
                        modifier = Modifier
                            .fillMaxWidth()
                            .padding(top = 4.dp)
                            .height(4.dp)
                    )
                }
            }
        }
    }
}
```

#### components/SkillRadarChart.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.Canvas
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.MaterialTheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.geometry.Offset
import androidx.compose.ui.graphics.Path
import androidx.compose.ui.graphics.drawscope.Stroke
import com.aivoicepower.domain.model.analysis.SkillType
import kotlin.math.PI
import kotlin.math.cos
import kotlin.math.sin

@Composable
fun SkillRadarChart(
    skillLevels: Map<SkillType, Int>,
    modifier: Modifier = Modifier
) {
    val color = MaterialTheme.colorScheme.primary
    val gridColor = MaterialTheme.colorScheme.outlineVariant
    
    Canvas(modifier = modifier.fillMaxSize()) {
        val center = Offset(size.width / 2, size.height / 2)
        val radius = size.minDimension / 2 * 0.8f
        val numberOfSkills = skillLevels.size
        val angleStep = (2 * PI / numberOfSkills).toFloat()
        
        // Draw grid circles
        for (i in 1..4) {
            val r = radius * i / 4
            drawCircle(
                color = gridColor,
                radius = r,
                center = center,
                style = Stroke(width = 1f)
            )
        }
        
        // Draw axes
        skillLevels.keys.forEachIndexed { index, _ ->
            val angle = angleStep * index - PI.toFloat() / 2
            val end = Offset(
                center.x + radius * cos(angle),
                center.y + radius * sin(angle)
            )
            drawLine(
                color = gridColor,
                start = center,
                end = end,
                strokeWidth = 1f
            )
        }
        
        // Draw data polygon
        val path = Path()
        skillLevels.values.forEachIndexed { index, level ->
            val angle = angleStep * index - PI.toFloat() / 2
            val distance = radius * (level / 100f)
            val point = Offset(
                center.x + distance * cos(angle),
                center.y + distance * sin(angle)
            )
            
            if (index == 0) {
                path.moveTo(point.x, point.y)
            } else {
                path.lineTo(point.x, point.y)
            }
        }
        path.close()
        
        // Fill
        drawPath(
            path = path,
            color = color.copy(alpha = 0.3f)
        )
        
        // Stroke
        drawPath(
            path = path,
            color = color,
            style = Stroke(width = 2f)
        )
    }
}
```

#### components/ProgressLineChart.kt

```kotlin
package com.aivoicepower.ui.screens.progress.components

import androidx.compose.foundation.Canvas
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.MaterialTheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.geometry.Offset
import androidx.compose.ui.graphics.Path
import androidx.compose.ui.graphics.drawscope.Stroke
import com.aivoicepower.ui.screens.progress.DailyProgress

@Composable
fun ProgressLineChart(
    weeklyProgress: List<DailyProgress>,
    modifier: Modifier = Modifier
) {
    val color = MaterialTheme.colorScheme.primary
    
    Canvas(modifier = modifier.fillMaxSize()) {
        if (weeklyProgress.isEmpty()) return@Canvas
        
        val maxMinutes = weeklyProgress.maxOf { it.minutes }.coerceAtLeast(1)
        val width = size.width
        val height = size.height
        val stepX = width / (weeklyProgress.size - 1).coerceAtLeast(1)
        
        // Draw line
        val path = Path()
        weeklyProgress.forEachIndexed { index, progress ->
            val x = index * stepX
            val y = height - (progress.minutes.toFloat() / maxMinutes * height)
            
            if (index == 0) {
                path.moveTo(x, y)
            } else {
                path.lineTo(x, y)
            }
        }
        
        drawPath(
            path = path,
            color = color,
            style = Stroke(width = 3f)
        )
        
        // Draw points
        weeklyProgress.forEachIndexed { index, progress ->
            val x = index * stepX
            val y = height - (progress.minutes.toFloat() / maxMinutes * height)
            
            drawCircle(
                color = color,
                radius = 6f,
                center = Offset(x, y)
            )
        }
    }
}
```

---

## –û–Ω–æ–≤–∏—Ç–∏ NavGraph.kt

```kotlin
composable(NavRoutes.Progress.route) {
    ProgressScreen(
        onNavigateToCompare = {
            navController.navigate(NavRoutes.Compare.route)
        },
        onNavigateToAchievements = {
            navController.navigate(NavRoutes.Achievements.route)
        },
        onNavigateToHistory = {
            navController.navigate(NavRoutes.RecordingHistory.route)
        }
    )
}

composable(NavRoutes.Compare.route) {
    CompareScreen(
        onNavigateBack = { navController.popBackStack() }
    )
}

composable(NavRoutes.Achievements.route) {
    AchievementsScreen(
        onNavigateBack = { navController.popBackStack() }
    )
}

composable(NavRoutes.RecordingHistory.route) {
    RecordingHistoryScreen(
        onNavigateBack = { navController.popBackStack() },
        onNavigateToResults = { recordingId ->
            navController.navigate(NavRoutes.Results.createRoute(recordingId))
        }
    )
}
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. ProgressScreen
- [ ] Overall level displayed
- [ ] Streak correct
- [ ] Stats accurate
- [ ] Skill levels (radar + bars)
- [ ] Weekly chart
- [ ] Quick actions navigate

### 2. CompareScreen
- [ ] Initial diagnostic loaded
- [ ] Current levels correct
- [ ] Improvement % accurate
- [ ] All 7 skills compared
- [ ] Empty state (if no diagnostic)

### 3. AchievementsScreen
- [ ] Grid layout (2 columns)
- [ ] Unlocked vs locked styling
- [ ] Progress bars for locked
- [ ] Counter in AppBar

### 4. Charts
- [ ] Radar chart renders
- [ ] Bar chart renders
- [ ] Line chart renders
- [ ] Responsive to data

---

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

```bash
./gradlew assembleDebug
```

**Checklist:**

**Progress:**
- [ ] All widgets render
- [ ] Data accurate
- [ ] Navigation works

**Compare:**
- [ ] Metrics comparison
- [ ] Improvement calculation
- [ ] Empty state

**Achievements:**
- [ ] Grid display
- [ ] Unlock logic
- [ ] Progress tracking

**Charts:**
- [ ] Radar chart
- [ ] Bar chart
- [ ] Line chart

---

## –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ ProgressScreen –∑ –ø–æ–≤–Ω–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
‚úÖ Skill radar + bar charts
‚úÖ Streak tracking
‚úÖ CompareScreen ("–¥–æ/–ø—ñ—Å–ª—è")
‚úÖ AchievementsScreen (badges grid)
‚úÖ RecordingHistoryScreen
‚úÖ Weekly progress chart
‚úÖ Motivation system –≥–æ—Ç–æ–≤–∞!

---

## üéâ PHASE 7 –ó–ê–í–ï–†–®–ï–ù–û!

```
‚úÖ Phase 0-6 ‚Äî –í—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ features
‚úÖ Phase 7 ‚Äî Progress + Gamification
‚è≥ Phase 8 ‚Äî Content
‚è≥ Phase 9 ‚Äî Freemium + Polish
```

**–ü—Ä–æ–≥—Ä–µ—Å:** 7 –∑ 9 —Ñ–∞–∑ (78%)

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫: Phase 8 ‚Äî Content

**Phase 8** –∑–∞–ø–æ–≤–Ω—é—î –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º:
- 100+ —Å–∫–æ—Ä–æ–º–æ–≤–∫–∏
- –¢–µ–∫—Å—Ç–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è
- –£—Ä–æ–∫–∏ 8-21 –¥–ª—è –≤—Å—ñ—Ö –∫—É—Ä—Å—ñ–≤
- –¢–µ–º–∏ –¥–ª—è –¥–µ–±–∞—Ç—ñ–≤
- –¢–æ–≤–∞—Ä–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂—É
- –¢–µ–º–∏ –¥–ª—è —ñ–º–ø—Ä–æ–≤—ñ–∑–∞—Ü—ñ—ó

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** üü¢ –ù–ò–ó–¨–ö–ê (pure data)  
**–ß–∞—Å:** ~4-6 –≥–æ–¥–∏–Ω

---

**–ß–∞—Å –Ω–∞ Phase 7:** ~3-4 –≥–æ–¥–∏–Ω–∏

**Progress —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –º–æ—Ç–∏–≤–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤!**