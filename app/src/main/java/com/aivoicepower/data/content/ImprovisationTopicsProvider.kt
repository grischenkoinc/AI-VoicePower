package com.aivoicepower.data.content

import com.aivoicepower.domain.model.content.ImprovisationTask
import com.aivoicepower.domain.model.content.StoryFormat
import com.aivoicepower.domain.model.content.StoryElements
import com.aivoicepower.domain.model.course.Difficulty

/**
 * Provider for improvisation topics
 * 100+ topics for spontaneous speech practice
 */
object ImprovisationTopicsProvider {

    fun getAllTopics(): List<String> {
        return getEverydayTopics() + getProfessionalTopics() + getSocialTopics() + getCreativeTopics()
    }

    fun getRandomTopic(): String {
        return getAllTopics().random()
    }

    fun getRandomTopics(count: Int): List<String> {
        return getAllTopics().shuffled().take(count)
    }

    fun getStoryPrompts(): List<String> {
        return storyPrompts
    }

    fun getRandomStoryPrompt(): String {
        return storyPrompts.random()
    }

    // ========== Improvisation Tasks ==========

    fun getRandomTopicTasks(): List<ImprovisationTask.RandomTopic> {
        return getAllTopics().mapIndexed { index, topic ->
            val difficulty = when {
                index < 30 -> Difficulty.BEGINNER
                index < 70 -> Difficulty.INTERMEDIATE
                else -> Difficulty.ADVANCED
            }
            ImprovisationTask.RandomTopic(
                topic = topic,
                difficulty = difficulty,
                preparationSeconds = when (difficulty) {
                    Difficulty.BEGINNER -> 30
                    Difficulty.INTERMEDIATE -> 20
                    Difficulty.ADVANCED -> 10
                },
                speakingSeconds = 60,
                hints = getHintsForTopic(topic)
            )
        }
    }

    fun getStorytellingTasks(): List<ImprovisationTask.Storytelling> {
        return listOf(
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "молодий мандрівник",
                    place = "загадковий ліс",
                    item = "старовинний компас",
                    twist = "компас показує не північ, а мрії"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "досвідчений вчитель",
                    place = "маленьке село",
                    item = "книга без назви",
                    twist = "кожен читач бачить іншу історію"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.CONTINUE,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Двері відчинилися, і він побачив себе з іншого боку..."
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.RANDOM_WORDS,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Включіть у історію слова: парасолька, кава, таємниця"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.RANDOM_WORDS,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Включіть у історію слова: ключ, годинник, подорож"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "вулична художниця",
                    place = "нічне місто",
                    item = "фарба, що світиться",
                    twist = "малюнки оживають вночі"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.CONTINUE,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Лист прийшов від людини, яку він вважав вигаданою..."
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "старий годинникар",
                    place = "майстерня на горищі",
                    item = "зламаний годинник",
                    twist = "годинник показує не час, а залишок днів"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.RANDOM_WORDS,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Включіть у історію слова: дзеркало, сад, лист"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "музикант-самоучка",
                    place = "порожня станція метро",
                    item = "стара скрипка",
                    twist = "музика відкриває портали в інші світи"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.CONTINUE,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Телефон задзвонив опівночі. На екрані був номер..."
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "бабуся-детектив",
                    place = "затишний квартал",
                    item = "рецепт пирога",
                    twist = "рецепт приховує карту скарбів"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.RANDOM_WORDS,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Включіть у історію слова: велосипед, хмари, секрет"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.WITH_PROMPTS,
                elements = StoryElements(
                    hero = "робкий винахідник",
                    place = "лабораторія в гаражі",
                    item = "машина погоди",
                    twist = "машина працює на емоціях"
                )
            ),
            ImprovisationTask.Storytelling(
                format = StoryFormat.CONTINUE,
                elements = StoryElements(
                    hero = null,
                    place = null,
                    item = null,
                    twist = "Я знайшов старий щоденник. Почерк був мій, але записи — з майбутнього..."
                )
            )
        )
    }

    private fun getHintsForTopic(topic: String): List<String> {
        return when {
            topic.contains("книг") -> listOf(
                "Чому саме ця книга?",
                "Як вона вплинула на вас?",
                "Кому б порадили її прочитати?"
            )
            topic.contains("робот") || topic.contains("професі") -> listOf(
                "Що вас захоплює в цій сфері?",
                "Які виклики існують?",
                "Як ви бачите майбутнє?"
            )
            topic.contains("подорож") -> listOf(
                "Куди і чому?",
                "Що запам'яталось найбільше?",
                "Що дізнались нового?"
            )
            topic.contains("технолог") -> listOf(
                "Які конкретно технології?",
                "Як вони змінили ваше життя?",
                "Які ризики або переваги?"
            )
            topic.contains("мрі") || topic.contains("ціл") -> listOf(
                "Чому саме ця мрія?",
                "Що робите для її досягнення?",
                "Які перешкоди долаєте?"
            )
            else -> listOf(
                "Почніть з особистого досвіду",
                "Наведіть конкретний приклад",
                "Поділіться своїми висновками"
            )
        }
    }

    // ========== Everyday Topics (30) ==========
    private fun getEverydayTopics(): List<String> {
        return listOf(
            "Моя улюблена книга та чому вона змінила мій погляд на життя",
            "Чому я люблю свою роботу або чим би хотів займатися",
            "Найкраща подорож у моєму житті та що вона мені дала",
            "Якби я міг змінити одну річ у світі, що б це було",
            "Мій ідеальний вихідний день від ранку до вечора",
            "Технології, які найбільше змінили моє повсякденне життя",
            "Людина, яка найбільше надихає мене та чому",
            "Мрія, до якої я прагну і що роблю для її досягнення",
            "Найважливіший урок, який я отримав у житті",
            "Якби я міг навчитися будь-чому за одну ніч",
            "Моє хобі та чому воно важливе для мене",
            "Місто моєї мрії: де б я хотів жити і чому",
            "Якби я виграв мільйон: на що б його витратив",
            "Найсмішніший випадок у моєму житті",
            "Традиція моєї родини, яку я бережу",
            "Найкращий подарунок, який я коли-небудь отримував",
            "Що для мене означає справжня дружба",
            "Мій улюблений спосіб проводити час наодинці",
            "Чому важливо мати цілі в житті",
            "Найбільший виклик, з яким я стикнувся цього року",
            "Моя улюблена пора року та чому",
            "Що робить мене щасливим у повсякденному житті",
            "Якби я міг поговорити з будь-якою історичною особою",
            "Моя улюблена страва та історія пов'язана з нею",
            "Чому важливо мати баланс між роботою та відпочинком",
            "Мій ранковий ритуал: що допомагає почати день правильно",
            "Найкращий фільм, який я бачив, і чому він вразив мене",
            "Що я ціную найбільше у своєму домі",
            "Яким я бачу себе через десять років",
            "Чому важливо бути вдячним за те, що маєш"
        )
    }

    // ========== Professional Topics (25) ==========
    private fun getProfessionalTopics(): List<String> {
        return listOf(
            "Майбутнє моєї професії: як вона зміниться за наступні роки",
            "Найважливіші навички для успіху в сучасному світі",
            "Чому важливо навчатися все життя",
            "Ідеальний колектив: які якості найважливіші у колегах",
            "Баланс роботи та особистого життя: як його досягти",
            "Інновації у моїй галузі, які мене захоплюють",
            "Лідерство у двадцять першому столітті: нові підходи",
            "Віддалена робота: переваги та недоліки з власного досвіду",
            "Як знайти роботу мрії: поради з власного досвіду",
            "Підприємництво в Україні: можливості та виклики",
            "Найбільша помилка у моїй кар'єрі і чого вона мене навчила",
            "Як проводити ефективні наради та зустрічі",
            "Мистецтво презентації: що робить виступ успішним",
            "Як давати і приймати конструктивну критику",
            "Нетворкінг: чому важливо будувати професійні зв'язки",
            "Управління часом: мої стратегії продуктивності",
            "Як приймати важливі рішення під тиском",
            "Штучний інтелект та майбутнє професій",
            "Як підготуватися до успішної співбесіди",
            "Важливість емоційного інтелекту на робочому місці",
            "Як справлятися зі стресом на роботі",
            "Менторство: чому важливо мати наставника і бути ним",
            "Креативність у бізнесі: як генерувати нові ідеї",
            "Переговори: принципи досягнення взаємовигідних угод",
            "Як ефективно делегувати завдання"
        )
    }

    // ========== Social Topics (25) ==========
    private fun getSocialTopics(): List<String> {
        return listOf(
            "Екологія та особиста відповідальність кожного з нас",
            "Роль освіти у формуванні суспільства",
            "Соціальні мережі: як вони змінюють наше спілкування",
            "Волонтерство та благодійність: мій досвід або бачення",
            "Збереження культурної спадщини для майбутніх поколінь",
            "Важливість психічного здоров'я у сучасному світі",
            "Гендерна рівність: прогрес і виклики",
            "Міжкультурна комунікація: як порозумітися з представниками інших культур",
            "Роль мистецтва у житті людини та суспільства",
            "Здоровий спосіб життя: з чого почати",
            "Вплив медіа на формування громадської думки",
            "Важливість критичного мислення в епоху інформації",
            "Як технології змінюють освіту",
            "Роль сім'ї у вихованні дітей",
            "Важливість толерантності у різноманітному суспільстві",
            "Як соціальні мережі впливають на самооцінку молоді",
            "Урбанізація: переваги та недоліки життя у великому місті",
            "Роль спорту у суспільстві",
            "Важливість збереження природи для майбутніх поколінь",
            "Як боротися з дезінформацією",
            "Роль молоді у розвитку суспільства",
            "Важливість громадянської активності",
            "Як технології впливають на наші стосунки",
            "Роль книг у цифрову епоху",
            "Важливість культурного обміну між країнами"
        )
    }

    // ========== Creative Topics (20) ==========
    private fun getCreativeTopics(): List<String> {
        return listOf(
            "Якби я був твариною, якою б обрав бути і чому",
            "Подорож у часі: яку епоху хотів би відвідати",
            "Суперсила на один день: яку б обрав",
            "Життя на іншій планеті: як би воно виглядало",
            "Винахід, який би змінив світ на краще",
            "Якби я став невидимим на один день",
            "Розмова з моїм майбутнім я через двадцять років",
            "Якби я міг створити ідеальне місто з нуля",
            "Найнезвичайніший день, який я можу уявити",
            "Якби тварини могли говорити: про що б вони розповіли",
            "Мій власний острів: як би я його облаштував",
            "Якби я міг стати персонажем будь-якої книги",
            "Винахід машини часу: куди б я подорожував",
            "Якби я прокинувся в іншому тілі на один день",
            "Створення власної країни: які б були її закони",
            "Якби я міг спілкуватися з рослинами",
            "Мій ідеальний робот-помічник: які функції мав би",
            "Якби гроші не мали значення: чим би я займався",
            "Подорож на Місяць: що б я там робив",
            "Якби я міг вирішити одну світову проблему миттєво"
        )
    }

    // ========== Story Prompts (30) ==========
    private val storyPrompts = listOf(
        "Почніть історію зі слів: 'Того дня все пішло не за планом...'",
        "Розкажіть історію про неочікувану зустріч зі старим другом",
        "Історія про подолання страху, який заважав вам довгий час",
        "Розкажіть про найнезвичайніший день вашого життя",
        "Історія, де головний герой — звичайний предмет у вашому домі",
        "Почніть: 'Ніколи не забуду того ранку, коли...'",
        "Історія про втрачену та знайдену річ, яка багато значила",
        "Розкажіть легенду або цікаву історію вашої родини",
        "Історія про доброту незнайомця, яка змінила ваш день",
        "Почніть: 'Якби я тоді знав, що трапиться далі...'",
        "Історія про важливе рішення, яке змінило ваше життя",
        "Розкажіть про момент прозріння або раптового розуміння",
        "Історія з несподіваним фіналом, який здивував усіх",
        "Почніть: 'Вранці я прокинувся в незнайомому місці...'",
        "Історія про дружбу, яка пройшла випробування часом",
        "Розкажіть про свій найбільший успіх і шлях до нього",
        "Історія про помилку, яка стала найціннішим уроком",
        "Почніть: 'Це було останнє, чого я очікував у той вечір...'",
        "Історія про зміни, які спочатку здавалися катастрофою",
        "Розкажіть про традицію, яка з'явилася випадково",
        "Історія про пригоду, яка сталася під час подорожі",
        "Почніть: 'Двері відчинилися, і я побачив...'",
        "Історія про наставника, який змінив ваш погляд на життя",
        "Розкажіть про день, коли ви зробили щось вперше",
        "Історія про суперечку, яка закінчилася дружбою",
        "Почніть: 'Телефон задзвонив опівночі...'",
        "Історія про мрію, яка здійснилася несподіваним чином",
        "Розкажіть про зустріч, яка могла не відбутися",
        "Історія про маленький вчинок з великими наслідками",
        "Почніть: 'Лист прийшов від людини, яку я вважав...'",
    )
}
